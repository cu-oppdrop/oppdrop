<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CU OppDrop</title>
  <link rel="stylesheet" href="styles.css">
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-3K0HKNQ8T3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-3K0HKNQ8T3');
  </script>
</head>
<body>
  <div class="container">
    <header>
      <div class="header-top">
        <div class="header-title">
          <h1 id="site-title">CU OppDrop</h1>
          <p class="subtitle">Database of Columbia fellowships, funding, grant, research, and study abroad opportunities</p>
          <p class="info-note">Data sourced from <a href="https://urf.columbia.edu/opportunity/search" target="_blank">URF</a> (requires Columbia login to access original listings)</p>
        </div>
        <div class="header-links">
          <a href="https://forms.gle/eqUL9FmeF5c6bRre9" target="_blank">Submit an opportunity</a>
          <a href="https://forms.gle/EBBpzBPwvvyVV8d86" target="_blank">Report issue</a>
        </div>
      </div>
      <p class="stats" id="stats">Loading...</p>
    </header>

    <div class="controls">
      <div class="search-box">
        <input type="text" id="search" placeholder="Search...">
      </div>

      <div class="filter-dropdown" data-filter="level">
        <div class="filter-trigger">
          <span class="filter-label">Level</span>
          <span class="arrow">▼</span>
        </div>
        <div class="filter-menu">
          <div class="filter-option" data-value="undergraduate">
            <span class="check">✓</span>
            <span>Undergraduate</span>
          </div>
          <div class="filter-option" data-value="graduate">
            <span class="check">✓</span>
            <span>Graduate</span>
          </div>
          <div class="filter-option" data-value="postdoc">
            <span class="check">✓</span>
            <span>Postdoc</span>
          </div>
        </div>
      </div>

      <div class="filter-dropdown" data-filter="citizenship">
        <div class="filter-trigger">
          <span class="filter-label">Citizenship</span>
          <span class="arrow">▼</span>
        </div>
        <div class="filter-menu">
          <div class="filter-option" data-value="us_citizen">
            <span class="check">✓</span>
            <span>US Citizen</span>
          </div>
          <div class="filter-option" data-value="permanent_resident">
            <span class="check">✓</span>
            <span>Perm Resident</span>
          </div>
          <div class="filter-option" data-value="international">
            <span class="check">✓</span>
            <span>International</span>
          </div>
        </div>
      </div>

      <div class="filter-dropdown" data-filter="type">
        <div class="filter-trigger">
          <span class="filter-label">Type</span>
          <span class="arrow">▼</span>
        </div>
        <div class="filter-menu">
          <div class="filter-option" data-value="fellowship">
            <span class="check">✓</span>
            <span>Fellowship</span>
          </div>
          <div class="filter-option" data-value="grant">
            <span class="check">✓</span>
            <span>Grant</span>
          </div>
          <div class="filter-option" data-value="scholarship">
            <span class="check">✓</span>
            <span>Scholarship</span>
          </div>
          <div class="filter-option" data-value="research">
            <span class="check">✓</span>
            <span>Research</span>
          </div>
          <div class="filter-option" data-value="travel">
            <span class="check">✓</span>
            <span>Travel</span>
          </div>
          <div class="filter-option" data-value="language">
            <span class="check">✓</span>
            <span>Language</span>
          </div>
        </div>
      </div>

      <div class="filter-dropdown" data-filter="field" id="fieldDropdown">
        <div class="filter-trigger">
          <span class="filter-label">Field</span>
          <span class="arrow">▼</span>
        </div>
        <div class="filter-menu" id="fieldMenu"></div>
      </div>

      <div class="filter-dropdown" data-filter="status">
        <div class="filter-trigger">
          <span class="filter-label">Status</span>
          <span class="arrow">▼</span>
        </div>
        <div class="filter-menu">
          <div class="filter-option selected" data-value="open">
            <span class="check">✓</span>
            <span>Open</span>
          </div>
          <div class="filter-option" data-value="closed">
            <span class="check">✓</span>
            <span>Closed</span>
          </div>
        </div>
      </div>

      <select class="sort-select" id="sort">
        <option value="deadline">Soonest deadline</option>
        <option value="deadline-desc">Latest deadline</option>
        <option value="name">Name A-Z</option>
      </select>
    </div>

    <div class="cards" id="cards"></div>
    <p class="last-updated" id="lastUpdated"></p>
  </div>

  <script src="app.js"></script>
</body>
</html>
